(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(29).concat([function(e,t,a){e.exports=a(63)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),i=a.n(s),c=a(25),l=(a(34),a(9)),o=a(13),m=a(4),u=a(5),h=a(7),d=a(6),p=a(8),g=a(1),E=a(66),f=a(65),v=a(3),b=(a(39),a(64)),O=(a(40),function(e){var t=function(){return r.a.createElement("div",{className:"item-links"},r.a.createElement("h3",null,"FOR SALE"),r.a.createElement(b.a,{to:"/items/category/all"},r.a.createElement("button",null,"View All")),r.a.createElement(b.a,{to:"/items/category/apparel"},r.a.createElement("button",null,"Apparel")),r.a.createElement(b.a,{to:"/items/category/appliances"},r.a.createElement("button",null,"Appliances")),r.a.createElement(b.a,{to:"/items/category/automotive"},r.a.createElement("button",null,"Automotive")),r.a.createElement(b.a,{to:"/items/category/electronics"},r.a.createElement("button",null,"Electronics")),r.a.createElement(b.a,{to:"/items/category/furniture"},r.a.createElement("button",null,"Furniture")),r.a.createElement(b.a,{to:"/items/category/jewelry"},r.a.createElement("button",null,"Jewelry")),r.a.createElement(b.a,{to:"/items/category/musical_instruments"},r.a.createElement("button",null,"Musical Instruments")),r.a.createElement(b.a,{to:"/items/category/sporting_goods"},r.a.createElement("button",null,"Sporting Goods")),r.a.createElement(b.a,{to:"/items/category/other"},r.a.createElement("button",null,"Other")),r.a.createElement(b.a,{to:"/items/category/wanted"},r.a.createElement("button",null,"Wanted")))};return e.currentUser?r.a.createElement("div",{className:"logged-in-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"/assets/Edslist.png",alt:"logo"}),r.a.createElement(b.a,{className:"link",to:"/"},r.a.createElement("span",null,"Eds"),"list")),r.a.createElement("div",{className:"user-links"},r.a.createElement(b.a,{to:"/"},r.a.createElement("button",null,"Home")),r.a.createElement(b.a,{to:"/profile"},r.a.createElement("button",null,"My Profile")),r.a.createElement(b.a,{to:"/create-posting"},r.a.createElement("button",null,"Create a posting"))),r.a.createElement("div",{className:"HL"}),t()):r.a.createElement("div",{className:"logged-out-nav"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"/assets/Edslist.png",alt:"logo"}),r.a.createElement(b.a,{className:"link",to:"/"},r.a.createElement("span",null,"Eds"),"list")),r.a.createElement("div",{className:"user-links"},r.a.createElement(b.a,{to:"/"},r.a.createElement("button",null,"Home"))),r.a.createElement("div",{className:"HL"}),t())}),y=(a(41),function(){return r.a.createElement("div",{className:"logout-container"},r.a.createElement("div",{className:"logout-success"},"You have successfully been logged out."),r.a.createElement("div",{className:"go-home"},r.a.createElement(b.a,{className:"link",to:"/"},"return home")))}),N=(a(42),function(e){return r.a.createElement("div",{className:"footer-container"})}),j=a(67),C=(a(43),function(e){var t=e.currentUser,a=e.logout;return t?r.a.createElement("div",{className:"logged-in"},"Welcome, ",t,r.a.createElement("button",{onClick:a},"Logout")):r.a.createElement("div",{className:"logged-out"},r.a.createElement(b.a,{className:"link",to:"/login"},r.a.createElement("button",{className:"btn"},"Login")),r.a.createElement(b.a,{className:"link",to:"/register"},r.a.createElement("button",{className:"btn"},"Register")))}),w=function(e){return function(t){return fetch("/api/items/".concat(e)).then(function(e){if(200!==e.status)throw new Error("error fetching item");return e.json()}).then(function(e){return t({type:"LOAD_SINGLE_ITEM",payload:e.item}),!0}).catch(function(e){return!1})}},S=function(e){return function(t){return fetch("/api/items/search/".concat(e)).then(function(e){if(200!==e.status)throw new Error("error fetching search results");return e.json()}).then(function(e){return t({type:"FETCHED_SEARCH",payload:e.items}),!0}).catch(function(e){return!1})}},k=function(e){return function(){return fetch("/api/items/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw new Error("error editing item");return!0}).catch(function(e){return!1})}},U=function(){return function(e){return fetch("/api/profile").then(function(e){if(200!==e.status)throw new Error("could not get profile");return e.json()}).then(function(t){return e({type:"FETCHED_PROFILE",payload:t}),!0}).catch(function(e){return!1})}},I=function(e){return function(){return fetch("/api/profile/username/".concat(e,"/isunique")).then(function(e){if(200!==e.status)throw new Error("error checking unique username");return e.json()}).then(function(e){return!e.exists}).catch(function(e){return!1})}},M=function(e){return function(){return fetch("/api/profile/email/".concat(e,"/isunique")).then(function(e){if(200!==e.status)throw new Error("error checking unique email");return e.json()}).then(function(e){return!e.exists}).catch(function(e){return!1})}},_=(a(44),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={searchTerm:""},a.logout=a.logout.bind(Object(g.a)(Object(g.a)(a))),a.handleSearchOnChange=a.handleSearchOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"logout",value:function(){var e=this;this.props.logout().then(function(t){if(t)return e.props.history.push("/logout")})}},{key:"handleSearchOnChange",value:function(e){var t=e.target.value;this.setState({searchTerm:t})}},{key:"handleSubmit",value:function(e){var t=this.state.searchTerm;e.preventDefault(),this.props.history.push("/search/".concat(t))}},{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("form",{className:"search-form"},r.a.createElement("input",{placeholder:"Search items...",type:"text",className:"search-bar",value:this.state.search,onChange:this.handleSearchOnChange}),r.a.createElement("button",{className:"search-button",onClick:this.handleSubmit},"Search")),r.a.createElement(C,{currentUser:this.props.currentUser,logout:this.logout}))}}]),t}(n.Component)),T=_=Object(j.a)(Object(v.b)(function(e){return{currentUser:e.currentUser}},function(e){return{logout:function(){return e(function(e){return fetch("/api/logout",{method:"POST"}).then(function(t){if(200!==t.status)throw new Error("error logging out");return e({type:"LOGOUT"}),!0}).catch(function(e){return!1})})},searchItems:function(t){return e(S(t))}}})(_)),q=(a(46),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1,username:"",password:""},a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.showMsg=a.showMsg.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.props.isRegisteredMsg&&this.props.toggleMsg("registered")}},{key:"error",value:function(){return this.state.isError?r.a.createElement("div",{className:"error"},"Invalid username or password"):r.a.createElement(r.a.Fragment,null)}},{key:"showMsg",value:function(){return this.props.isRegisteredMsg?r.a.createElement("div",{className:"message-container"},r.a.createElement("div",{className:"message"},"Your account has been created. Please log in here.")):r.a.createElement(r.a.Fragment,null)}},{key:"handleInputOnChange",value:function(e){var t=e.target.name,a=e.target.value;return this.setState(Object(l.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state;e.preventDefault(),this.props.login(a).then(function(e){return e?(t.setState({isError:!1}),t.props.history.push("/")):t.setState({isError:!0})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},this.error(),this.showMsg(),r.a.createElement("form",null,r.a.createElement("h1",null,"Login"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputOnChange}),r.a.createElement("div",{id:"login-button-container"},r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Login")),r.a.createElement("div",{className:"register-here"},"Don't have an account?",r.a.createElement(b.a,{to:"/register"}," Register here"))))}}]),t}(n.Component)),P=q=Object(v.b)(null,function(e){return{login:function(t){return e(function(e){return function(t){return fetch("/api/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(401===e.status)throw new Error("Unauthorized");return e.json()}).then(function(e){return t({type:"LOGIN",payload:e.username}),!0}).catch(function(e){return!1})}}(t))}}})(q),D=(a(47),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1,isEmailUnique:!1,isUsernameUnique:!1,first_name:"",last_name:"",email:"",username:"",password:"",touched:{email:!1,username:!1}},a.form=r.a.createRef(),a.validate=a.validate.bind(Object(g.a)(Object(g.a)(a))),a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.checkUniqueEmail=a.checkUniqueEmail.bind(Object(g.a)(Object(g.a)(a))),a.checkUniqueUsername=a.checkUniqueUsername.bind(Object(g.a)(Object(g.a)(a))),a.makeEmailSpanClassName=a.makeEmailSpanClassName.bind(Object(g.a)(Object(g.a)(a))),a.makeUsernameSpanClassName=a.makeUsernameSpanClassName.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"error",value:function(){return this.state.isError?r.a.createElement("div",{className:"error"},"Error creating account"):r.a.createElement(r.a.Fragment,null)}},{key:"makeEmailSpanClassName",value:function(){var e;return e=this.state.touched.email?"show":"hide",this.state.isEmailUnique?e+=" valid":e+=" invalid",e}},{key:"makeUsernameSpanClassName",value:function(){var e;return e=this.state.touched.username?"show":"hide",this.state.isUsernameUnique?e+=" valid":e+=" invalid",e}},{key:"checkUniqueEmail",value:function(e){var t=this,a=e.target.value;this.setState({touched:Object(o.a)({},this.state.touched,{email:!0})}),""===this.state.email&&this.setState({touched:Object(o.a)({},this.state.touched,{email:!1})}),this.props.checkUniqueEmail(a).then(function(e){return e?t.setState({isEmailUnique:!0}):t.setState({isEmailUnique:!1})})}},{key:"checkUniqueUsername",value:function(e){var t=this,a=e.target.value;this.setState({touched:Object(o.a)({},this.state.touched,{username:!0})}),""===this.state.username&&this.setState({touched:Object(o.a)({},this.state.touched,{username:!1})}),this.props.checkUniqueUsername(a).then(function(e){return e?t.setState({isUsernameUnique:!0}):t.setState({isUsernameUnique:!1})})}},{key:"handleInputOnChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(l.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state;e.preventDefault(),this.validate()&&this.props.register(a).then(function(e){return e?(t.setState({isError:!1}),t.props.toggleMsg("registered"),t.props.history.push("/login")):t.setState({isError:!0})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"register-wrapper"},r.a.createElement("div",{className:"register-container"},this.error(),r.a.createElement("form",{ref:this.form},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("input",{type:"text",name:"first_name",placeholder:"First name",value:this.state.first_name,onChange:this.handleInputOnChange,required:!0,pattern:"[A-Za-z]{1,30}"}),r.a.createElement("input",{type:"text",name:"last_name",placeholder:"Last name",value:this.state.last_name,onChange:this.handleInputOnChange,required:!0,pattern:"[A-Za-z]{1,30}"}),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"email",name:"email",className:"nested-input",placeholder:"Email",value:this.state.email,onChange:this.handleInputOnChange,onKeyUp:this.checkUniqueEmail,required:!0}),r.a.createElement("span",{className:this.makeEmailSpanClassName()},this.state.isEmailUnique?"Available!":"Taken")),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"text",name:"username",className:"nested-input",placeholder:"Username",value:this.state.username,onChange:this.handleInputOnChange,onKeyUp:this.checkUniqueUsername,required:!0,pattern:"[A-Za-z0-9_]{6,30}"}),r.a.createElement("span",{className:this.makeUsernameSpanClassName()},this.state.isUsernameUnique?"Available!":"Taken")),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputOnChange,required:!0,minLength:"6",maxLength:"30"}),r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Register")),r.a.createElement("div",{className:"login-here"}," ","Already have an account?",r.a.createElement(b.a,{to:"/login"}," Login here")))))}}]),t}(n.Component)),F=D=Object(v.b)(null,function(e){return{register:function(t){return e((a=t,function(){return fetch("/api/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(200!==e.status)throw new Error("Error creating account");return!0}).catch(function(e){return!1})}));var a},checkUniqueEmail:function(t){return e(M(t))},checkUniqueUsername:function(t){return e(I(t))}}})(D),x=(a(48),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={notFound:!1,isOwner:!1,editError:!1,id:"",category_id:"",name:"",price:"",image:"",description:"",manufacturer:"",model:"",condition_id:"",length:"",width:"",height:"",notes:"",status_id:""},a.form=r.a.createRef(),a.validate=a.validate.bind(Object(g.a)(Object(g.a)(a))),a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.loadItem(t).then(function(t){return t?e.setState({notFound:!1}):e.setState({notFound:!0})})}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=this.props.item;if(t.createdBy===this.props.currentUser)return this.setState({isOwner:!0,id:t.id,category_id:t.category_id,name:t.name,price:t.price?t.price:"",image:t.image?t.image:"",description:t.description,manufacturer:t.manufacturer?t.description:"",model:t.model?t.model:"",condition_id:t.condition_id,length:t.length?t.length:"",width:t.width?t.width:"",height:t.height?t.height:"",notes:t.notes?t.notes:"",status_id:t.status_id})}}},{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"error",value:function(){return this.state.editError?r.a.createElement("div",{className:"error"},"error editing post"):r.a.createElement(r.a.Fragment,null)}},{key:"handleInputOnChange",value:function(e){var t=e.target.value,a=e.target.name;return this.setState(Object(l.a)({},a,t))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state;e.preventDefault(),this.validate()&&this.props.editItem(a).then(function(e){return e?(t.setState({editError:!1}),t.props.toggleMsg("editItem"),t.props.history.push("/items/".concat(a.id))):t.setState({editError:!0})})}},{key:"render",value:function(){return this.state.notFound?r.a.createElement("div",{className:"error"},"Item not found"):this.state.isOwner?r.a.createElement("div",{className:"edit-container"},this.error(),r.a.createElement("form",{ref:this.form},r.a.createElement("h1",null,"Edit Post"),r.a.createElement("div",{className:"top-box"},r.a.createElement("div",{className:"title-price-container"},r.a.createElement("input",{className:"name-input",type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleInputOnChange,required:!0}),r.a.createElement("input",{className:"price-input",type:"number",name:"price",placeholder:"Price",value:this.state.price,onChange:this.handleInputOnChange}))),r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"description"},r.a.createElement("label",{htmlFor:"description"},"Body:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleInputOnChange,required:!0}))),r.a.createElement("div",{className:"posting-details"},r.a.createElement("div",{className:"details-left"},r.a.createElement("div",{className:"make-model"},r.a.createElement("input",{type:"text",name:"manufacturer",placeholder:"Manufacturer",value:this.state.manufacturer,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text",name:"model",placeholder:"Model",value:this.state.model,onChange:this.handleInputOnChange})),r.a.createElement("div",{className:"select-container"},r.a.createElement("div",{className:"category"},r.a.createElement("label",null,"Category: "),r.a.createElement("select",{name:"category_id",value:this.state.category_id,onChange:this.handleInputOnChange},r.a.createElement("option",{value:"1"},"Automotive"),r.a.createElement("option",{value:"2"},"Furniture"),r.a.createElement("option",{value:"3"},"Appliances"),r.a.createElement("option",{value:"4"},"Electronics"),r.a.createElement("option",{value:"5"},"Sporting Goods"),r.a.createElement("option",{value:"6"},"Jewelry"),r.a.createElement("option",{value:"7"},"Apparel"),r.a.createElement("option",{value:"8"},"Musical Instruments"),r.a.createElement("option",{value:"9"},"Wanted"))),r.a.createElement("div",{className:"condition"},r.a.createElement("label",null,"Condition: "),r.a.createElement("select",{name:"condition_id",value:this.state.condition_id,onChange:this.handleInputOnChange},r.a.createElement("option",{value:"1"},"Poor"),r.a.createElement("option",{value:"2"},"Fair"),r.a.createElement("option",{value:"3"},"Great"),r.a.createElement("option",{value:"4"},"Excellent"),r.a.createElement("option",{value:"5"},"New In Box"))),r.a.createElement("div",{className:"status"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"status_id"},"Status: ")),r.a.createElement("select",{name:"status_id",value:this.state.status_id,onChange:this.handleInputOnChange},r.a.createElement("option",{value:"1"},"for sale"),r.a.createElement("option",{value:"3"},"sold")))),r.a.createElement("div",{className:"dimensions"},r.a.createElement("label",{className:"dimension-name"},"Dimensions:"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"length",placeholder:"length",value:this.state.length,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text",name:"width",placeholder:"width",value:this.state.width,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text-area",name:"height",placeholder:"height",value:this.state.height,onChange:this.handleInputOnChange})))),r.a.createElement("div",{className:"notes-container"},r.a.createElement("textarea",{name:"notes",value:this.state.notes,placeholder:"Additional notes",onChange:this.handleInputOnChange}))),r.a.createElement("div",{className:"button-container"},r.a.createElement("div",{className:"cancel"},r.a.createElement(b.a,{to:"/items/".concat(this.state.id)},r.a.createElement("button",{className:"btn"},"Cancel Changes"))),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Submit Changes"))))):r.a.createElement("div",{className:"error"},"Denied: user does not own this post")}}]),t}(n.Component)),L=x=Object(v.b)(function(e){return{item:e.item,currentUser:e.currentUser}},function(e){return{loadItem:function(t){return e(w(t))},editItem:function(t){return e(k(t))}}})(x),A=a(15),R=a.n(A),W=(a(51),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={notFound:!1},a.editButton=a.editButton.bind(Object(g.a)(Object(g.a)(a))),a.timestampsDetail=a.timestampsDetail.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.loadItem(t).then(function(a){return a?(e.setState({notFound:!1}),e.props.incrementViews(t)):e.setState({notFound:!0})})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.match.params.id!==e.match.params.id){var a=this.props.match.params.id;this.props.loadItem(a).then(function(e){return e?t.setState({notFound:!1}):t.setState({notFound:!0})})}}},{key:"componentWillUnmount",value:function(){this.props.isMessages.addItem&&this.props.toggleMsg("addItem"),this.props.isMessages.editItem&&this.props.toggleMsg("editItem"),this.props.isMessages.editItemStatus&&this.props.toggleMsg("editItemStatus")}},{key:"showMessage",value:function(e){return this.props.isMessages.addItem?r.a.createElement("div",{className:"message"},"You have created a new post."):this.props.isMessages.editItem?r.a.createElement("div",{className:"message"},"Your post has been updated."):this.props.isMessages.editItemStatus?1===e?r.a.createElement("div",{className:"message"},"Your post has been re-published."):r.a.createElement("div",{className:"message"},"Your post has been marked as sold."):r.a.createElement(r.a.Fragment,null)}},{key:"editButton",value:function(){return this.props.item.createdBy===this.props.currentUser?r.a.createElement(b.a,{to:"/items/".concat(this.props.item.id,"/edit")},r.a.createElement("button",{className:"btn"},"Edit")):r.a.createElement(r.a.Fragment,null)}},{key:"timestampsDetail",value:function(){var e=this.props.item,t=new Date(e.created_at),a=new Date(e.updated_at);return e.created_at===e.updated_at?r.a.createElement("div",{className:"created"},"Posted: ",r.a.createElement(R.a,{fromNow:!0},t)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"created"},"Posted: ",r.a.createElement(R.a,{fromNow:!0},t)),r.a.createElement("div",{className:"updated"},"Updated: ",r.a.createElement(R.a,{fromNow:!0},a)))}},{key:"render",value:function(){var e=this.props.item,t=new Date(e.created_at);return this.state.notFound?r.a.createElement("div",{className:"error"},"Item not found"):r.a.createElement("div",{className:"detail-container"},r.a.createElement("div",{className:"message-container"},this.showMessage(e.status_id)),r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-left"},r.a.createElement("h1",null," ",e.name," \u2013"),r.a.createElement("h2",null," ",e.price?"$".concat(e.price):""," "),r.a.createElement("h4",null,"Posted ",r.a.createElement(R.a,{fromNow:!0},t))),this.editButton()),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"detail-left"},r.a.createElement("img",{alt:e.name,src:e.image}),r.a.createElement("div",{className:"description"},e.description)),r.a.createElement("div",{className:"detail-right"},r.a.createElement("div",{className:"detail"},r.a.createElement("p",null,"Manufacturer: "),r.a.createElement("p",null,e.manufacturer)),r.a.createElement("div",{className:"detail"},r.a.createElement("p",null,"Model:"),r.a.createElement("p",null," ",e.model," ")),r.a.createElement("div",{className:"detail"},r.a.createElement("p",null,"Length:")," ",e.length),r.a.createElement("div",{className:"detail"},r.a.createElement("p",null,"Width:")," ",e.width),r.a.createElement("div",{className:"detail"},r.a.createElement("p",null,"Height:")," ",e.height),r.a.createElement("div",{className:"detail"},r.a.createElement("p",null," Additional notes: "),r.a.createElement("p",null," ",e.notes," ")))),r.a.createElement("div",{className:"additional-details"},r.a.createElement("div",{className:"id"},"post id: ",e.id),this.timestampsDetail()))}}]),t}(n.Component)),H=W=Object(v.b)(function(e){return{item:e.item,currentUser:e.currentUser}},function(e){return{loadItem:function(t){return e(w(t))},incrementViews:function(t){return e(function(e){return function(){return fetch("/api/items/".concat(e,"/views"),{method:"PUT",headers:{"Content-Type":"application/json"}})}}(t))}}})(W),B=(a(52),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1,category_id:"",name:"",price:"",image:"",description:"",manufacturer:"",model:"",condition_id:2,length:"",width:"",height:"",notes:""},a.form=r.a.createRef(),a.validate=a.validate.bind(Object(g.a)(Object(g.a)(a))),a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"error",value:function(){return this.state.isError?r.a.createElement("div",{className:"error"},"Error creating post"):r.a.createElement(r.a.Fragment,null)}},{key:"handleInputOnChange",value:function(e){var t,a=e.target.value,n=e.target.name;return e.target.files&&(t=e.target.files[0]),"image"===n?this.setState({image:t}):this.setState(Object(l.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=new FormData;if(this.validate()){for(var r in a)"image"!==r||a[r]?n.append(r,a[r]):n.append(r,"/assets/no-img.jpeg");this.props.addItem(n).then(function(e){return e?(t.setState({isError:!1}),t.props.toggleMsg("addItem"),t.props.history.push("/items/".concat(e))):t.setState({isError:!0})})}}},{key:"render",value:function(){return this.props.currentUser?r.a.createElement("div",{className:"add-item-container"},this.error(),r.a.createElement("form",{ref:this.form},r.a.createElement("h1",null,"New Post"),r.a.createElement("div",{className:"top-box"},r.a.createElement("div",{className:"title-price-container"},r.a.createElement("input",{className:"name-input",type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleInputOnChange,required:!0}),r.a.createElement("input",{className:"price-input",type:"number",name:"price",placeholder:"Price",value:this.state.price,onChange:this.handleInputOnChange})),r.a.createElement("div",{className:"image"},r.a.createElement("div",null,"Add an image: "),r.a.createElement("input",{type:"file",name:"image",onChange:this.handleInputOnChange}))),r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"description"},r.a.createElement("label",{htmlFor:"description"},"Body:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleInputOnChange,required:!0}))),r.a.createElement("div",{className:"posting-details"},r.a.createElement("div",{className:"details-left"},r.a.createElement("div",{className:"make-model"},r.a.createElement("input",{type:"text",name:"manufacturer",placeholder:"Manufacturer",value:this.state.manufacturer,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text",name:"model",placeholder:"Model",value:this.state.model,onChange:this.handleInputOnChange})),r.a.createElement("div",{className:"select-container"},r.a.createElement("div",{className:"category"},r.a.createElement("label",null,"Category: "),r.a.createElement("select",{name:"category_id",value:this.state.category_id,onChange:this.handleInputOnChange,required:!0},r.a.createElement("option",{value:""},"Choose a Category"),r.a.createElement("option",{value:"1"},"Apparel"),r.a.createElement("option",{value:"2"},"Appliances"),r.a.createElement("option",{value:"3"},"Automotive"),r.a.createElement("option",{value:"4"},"Electronics"),r.a.createElement("option",{value:"5"},"Furniture"),r.a.createElement("option",{value:"6"},"Jewelry"),r.a.createElement("option",{value:"7"},"Musical Instruments"),r.a.createElement("option",{value:"8"},"Sporting Goods"),r.a.createElement("option",{value:"9"},"Other"),r.a.createElement("option",{value:"10"},"Wanted"))),r.a.createElement("div",{className:"condition"},r.a.createElement("label",null,"Condition: "),r.a.createElement("select",{name:"condition_id",value:this.state.condition_id,onChange:this.handleInputOnChange},r.a.createElement("option",{value:"1"},"Poor"),r.a.createElement("option",{value:"2"},"Fair"),r.a.createElement("option",{value:"3"},"Great"),r.a.createElement("option",{value:"4"},"Excellent"),r.a.createElement("option",{value:"5"},"New In Box")))),r.a.createElement("div",{className:"dimensions"},r.a.createElement("label",{className:"dimension-name"},"Dimensions"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"length",placeholder:"length",value:this.state.length,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text",name:"width",placeholder:"width",value:this.state.width,onChange:this.handleInputOnChange}),r.a.createElement("input",{type:"text-area",name:"height",placeholder:"height",value:this.state.height,onChange:this.handleInputOnChange})))),r.a.createElement("div",{className:"notes-container"},r.a.createElement("textarea",{name:"notes",value:this.state.notes,placeholder:"Additional notes",onChange:this.handleInputOnChange}))),r.a.createElement("div",{className:"button-container"},r.a.createElement("div",{className:"submit"},r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Create Post"))))):r.a.createElement("div",{className:"error"},"Must be logged in to create post")}}]),t}(n.Component)),G=B=Object(v.b)(function(e){return{currentUser:e.currentUser}},function(e){return{addItem:function(t){return e((a=t,function(){return fetch("/api/items/new",{method:"POST",body:a}).then(function(e){if(200!==e.status)throw new Error("error creating new post");return e.json()}).then(function(e){return e.id}).catch(function(e){return!1})}));var a}}})(B),J=(a(53),function(e){var t=e.item,a=new Date(t.created_at);return t.image||(t.image=""),1!==t.status_id?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{to:"/items/".concat(t.id)},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t.image,className:"item-image",alt:t.name})),r.a.createElement("div",{className:"item-detail"},r.a.createElement("p",{className:"post-date"},r.a.createElement(R.a,{format:"MMM M"},a)),r.a.createElement("h4",{className:"item-name"},t.name)),r.a.createElement("div",{className:"price-container"},r.a.createElement("p",{className:"item-price"},t.price?"$ ".concat(t.price):"")))))}),V=(a(54),function(e){var t=e.items.map(function(e){return r.a.createElement(J,{key:e.id,item:e})});return r.a.createElement("div",{className:"item-list"},t)}),Y=(a(55),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.category;if("all"===e)return this.props.getItemsAll();this.props.getItemsByCategory(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.category!==e.match.params.category){var t=this.props.match.params.category;if("all"===t)return this.props.getItemsAll();this.props.getItemsByCategory(t)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"category-container"},r.a.createElement(V,{items:this.props.items}))}}]),t}(n.Component)),z=Y=Object(j.a)(Object(v.b)(function(e){return{items:e.items}},function(e){return{getItemsByCategory:function(t){return e(function(e){return function(t){return fetch("/api/items/category/".concat(e)).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_ITEMS",payload:e})})}}(t))},getItemsAll:function(){return e(function(e){return fetch("/api/items").then(function(e){return e.json()}).then(function(t){return e({type:"FETCH_ITEMS",payload:t})})})}}})(Y)),Z=(a(56),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.term;this.props.searchItems(t).then(function(t){return t?e.setState({isError:!1}):e.setState({isError:!0})})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.match.params.term!==e.match.params.term){var a=this.props.match.params.term;this.props.searchItems(a).then(function(e){return e?t.setState({isError:!1}):t.setState({isError:!0})})}}},{key:"render",value:function(){return this.state.isError?r.a.createElement("div",{className:"search-Display"}," error fetching search results "):0===this.props.items.length?r.a.createElement("div",{className:"search-Display"}," no results found"):r.a.createElement("div",{className:"search-display"},r.a.createElement(V,{items:this.props.items}))}}]),t}(n.Component)),K=Z=Object(v.b)(function(e){return{items:e.items}},function(e){return{searchItems:function(t){return e(S(t))}}})(Z),X=(a(57),function(e){var t=e.toggleStatus,a=e.items.map(function(e){var a,n,s=new Date(e.created_at),i=new Date(e.updated_at);return r.a.createElement("div",{className:"item",key:e.id},r.a.createElement("div",{className:"status-column"},e.status.name),r.a.createElement("div",{className:"manage-column"},r.a.createElement(b.a,{className:"item-detail-container",to:"/items/".concat(e.id)},r.a.createElement("button",{className:"btn"},"View")),r.a.createElement(b.a,{className:"item-detail-container",to:"/items/".concat(e.id,"/edit")},r.a.createElement("button",{className:"btn"},"Edit")),(a=e.status_id,n=e.id,1!==a?r.a.createElement("div",{className:"change-status"},r.a.createElement("button",{className:"btn",onClick:t,"data-id":n,"data-status":a},"Re-publish")):r.a.createElement("div",{className:"change-status"},r.a.createElement("button",{className:"btn",onClick:t,"data-id":n,"data-status":a},"Mark as sold")))),r.a.createElement("div",{className:"title-column"},e.name),r.a.createElement("div",{className:"category-column"},e.category.name),r.a.createElement("div",{className:"date-column"},r.a.createElement(R.a,{format:"LLL"},s)),r.a.createElement("div",{className:"update-column"},r.a.createElement(R.a,{format:"LLL"},i)),r.a.createElement("div",{className:"views-column"},e.views),r.a.createElement("div",{className:"id-column"},e.id))});return r.a.createElement(r.a.Fragment,null,a)}),$=(a(58),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).toggleStatus=a.toggleStatus.bind(Object(g.a)(Object(g.a)(a))),a.forSale=a.forSale.bind(Object(g.a)(Object(g.a)(a))),a.sold=a.sold.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getProfile(),this.props.getUsersItems()}},{key:"componentWillUnmount",value:function(){this.props.isMessages.editProfile&&this.props.toggleMsg("editProfile"),this.props.isMessages.passwordUpdated&&this.props.toggleMsg("passwordUpdated")}},{key:"showMessage",value:function(){return this.props.isMessages.editProfile?r.a.createElement("div",{className:"message"},"You profile has been updated."):this.props.isMessages.passwordUpdated?r.a.createElement("div",{className:"message"},"Your password has been updated."):r.a.createElement(r.a.Fragment,null)}},{key:"toggleStatus",value:function(e){var t=this;e.preventDefault();var a=e.target.dataset.id;return"1"!==e.target.dataset.status?this.props.editItem({id:a,status_id:1}).then(function(e){return t.props.toggleMsg("editItemStatus"),t.props.history.push("/items/".concat(a))}):this.props.editItem({id:a,status_id:3}).then(function(e){return t.props.toggleMsg("editItemStatus"),t.props.history.push("/items/".concat(a))})}},{key:"forSale",value:function(){return this.props.items.filter(function(e){return 1===e.status_id})}},{key:"sold",value:function(){return this.props.items.filter(function(e){return 3===e.status_id})}},{key:"render",value:function(){if(!this.props.currentUser)return r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"error"},"You must be logged in to view profile"));var e=this.props.profile;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"My Account"),r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"message-container"},this.showMessage()),r.a.createElement("div",{className:"user-info-container"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"email"},"Email: ",e.email),r.a.createElement("div",{className:"username"},"Username: ",e.username),r.a.createElement(b.a,{to:"/password"},r.a.createElement("button",{className:"btn"},"Change Password"))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"first-name"},"First Name: ",e.first_name),r.a.createElement("div",{className:"last-name"},"Last Name: ",e.last_name),r.a.createElement(b.a,{to:"/profile/edit"},r.a.createElement("button",{className:"btn"},"Edit Profile")))),r.a.createElement("div",{className:"status-container"},r.a.createElement("div",{className:"columns-container"},r.a.createElement("div",{className:"status-column"},"Status"),r.a.createElement("div",{className:"manage-column"},"Manage"),r.a.createElement("div",{className:"title-column"},"Post Title"),r.a.createElement("div",{className:"category-column"},"Category"),r.a.createElement("div",{className:"date-column"},"Date Posted"),r.a.createElement("div",{className:"update-column"},"Last Updated At"),r.a.createElement("div",{className:"views-column"},"views"),r.a.createElement("div",{className:"id-column"},"Post Id")),r.a.createElement(X,{items:this.forSale(),toggleStatus:this.toggleStatus}),r.a.createElement(X,{items:this.sold(),toggleStatus:this.toggleStatus}))))}}]),t}(n.Component)),Q=$=Object(v.b)(function(e){return{profile:e.profile,items:e.items,currentUser:e.currentUser}},function(e){return{getProfile:function(){return e(U())},getUsersItems:function(){return e(function(e){return fetch("/api/items/owned").then(function(e){if(200!==e.status)throw new Error("could not get user's items");return e.json()}).then(function(t){return e({type:"FETCHED_USERS_ITEMS",payload:t}),!0}).catch(function(e){return!1})})},editItem:function(t){return e(k(t))}}})($),ee=(a(59),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1,isEmailUnique:!1,isUsernameUnique:!1,email:"",username:"",first_name:"",last_name:"",touched:{email:!1,username:!1}},a.form=r.a.createRef(),a.validate=a.validate.bind(Object(g.a)(Object(g.a)(a))),a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.checkUniqueEmail=a.checkUniqueEmail.bind(Object(g.a)(Object(g.a)(a))),a.checkUniqueUsername=a.checkUniqueUsername.bind(Object(g.a)(Object(g.a)(a))),a.makeEmailSpanClassName=a.makeEmailSpanClassName.bind(Object(g.a)(Object(g.a)(a))),a.makeUsernameSpanClassName=a.makeUsernameSpanClassName.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getProfile()}},{key:"componentDidUpdate",value:function(e){if(e!==this.props)return this.setState({email:this.props.profile.email,username:this.props.profile.username,first_name:this.props.profile.first_name,last_name:this.props.profile.last_name})}},{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"error",value:function(){return this.state.isError?r.a.createElement("div",{className:"error"},"error editing profile"):r.a.createElement(r.a.Fragment,null)}},{key:"makeEmailSpanClassName",value:function(){var e;return e=this.state.touched.email?"show":"hide",this.state.isEmailUnique?e+=" valid":e+=" invalid",e}},{key:"makeUsernameSpanClassName",value:function(){var e;return e=this.state.touched.username?"show":"hide",this.state.isUsernameUnique?e+=" valid":e+=" invalid",e}},{key:"checkUniqueEmail",value:function(e){var t=this,a=e.target.value;this.setState({touched:Object(o.a)({},this.state.touched,{email:!0})}),""===this.state.email&&this.setState({touched:Object(o.a)({},this.state.touched,{email:!1})}),this.props.checkUniqueEmail(a).then(function(e){return e?t.setState({isEmailUnique:!0}):t.setState({isEmailUnique:!1})})}},{key:"checkUniqueUsername",value:function(e){var t=this,a=e.target.value;this.setState({touched:Object(o.a)({},this.state.touched,{username:!0})}),""===this.state.username&&this.setState({touched:Object(o.a)({},this.state.touched,{username:!1})}),this.props.checkUniqueUsername(a).then(function(e){return e?t.setState({isUsernameUnique:!0}):t.setState({isUsernameUnique:!1})})}},{key:"handleInputOnChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(l.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state;this.validate()&&(e.preventDefault(),this.props.editProfile(a).then(function(e){return e?(t.setState({isError:!1}),t.props.toggleMsg("editProfile"),t.props.history.push("/profile")):t.setState({isError:!0})}))}},{key:"render",value:function(){return this.props.currentUser?r.a.createElement("div",{className:"edit-profile-container"},this.error(),r.a.createElement("form",{className:"edit-profile",ref:this.form},r.a.createElement("input",{type:"text",name:"first_name",placeholder:"First name",value:this.state.first_name,onChange:this.handleInputOnChange,required:!0,pattern:"[A-Za-z]{1,30}"}),r.a.createElement("input",{type:"text",name:"last_name",placeholder:"Last name",value:this.state.last_name,onChange:this.handleInputOnChange,required:!0,pattern:"[A-Za-z]{1,30}"}),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{className:"nested-input",type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputOnChange,onKeyUp:this.checkUniqueEmail,required:!0}),r.a.createElement("span",{className:this.makeEmailSpanClassName()},this.state.isEmailUnique?"Available!":"Taken")),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{className:"nested-input",type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleInputOnChange,onKeyUp:this.checkUniqueUsername,required:!0,pattern:"[A-Za-z0-9_]{6,30}"}),r.a.createElement("span",{className:this.makeUsernameSpanClassName()},this.state.isUsernameUnique?"Available!":"Taken")),r.a.createElement("div",{className:"button-container"},r.a.createElement(b.a,{to:"/password"},r.a.createElement("div",null,"Change password")),r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Edit Profile")))):r.a.createElement("div",{className:"profile-edit-page"},r.a.createElement("div",{className:"error"},"You must be logged in to edit profile"))}}]),t}(n.Component)),te=ee=Object(v.b)(function(e){return{profile:e.profile,currentUser:e.currentUser}},function(e){return{getProfile:function(){return e(U())},editProfile:function(t){return e(function(e){return function(t){return fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(a){if(200!==a.status)throw new Error("could not edit profile");return t({type:"EDIT_PROFILE",payload:e.username}),!0}).catch(function(e){return!1})}}(t))},checkUniqueEmail:function(t){return e(M(t))},checkUniqueUsername:function(t){return e(I(t))}}})(ee),ae=(a(60),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:!1,incorrectPw:!1,nonMatch:!1,old:"",new:"",confirm:"",oldWording:"show",newWording:"show",confirmWording:"show",oldType:"password",newType:"password",confirmType:"password"},a.form=r.a.createRef(),a.validate=a.validate.bind(Object(g.a)(Object(g.a)(a))),a.error=a.error.bind(Object(g.a)(Object(g.a)(a))),a.handleInputOnChange=a.handleInputOnChange.bind(Object(g.a)(Object(g.a)(a))),a.handleToggle=a.handleToggle.bind(Object(g.a)(Object(g.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"error",value:function(){return this.state.incorrectPw?r.a.createElement("div",null,"incorrect password"):this.state.nonMatch?r.a.createElement("div",null,"passwords did not match"):this.state.isError?r.a.createElement("div",null,"error updating password"):void 0}},{key:"handleInputOnChange",value:function(e){var t=e.target.name,a=e.target.value;return this.setState(Object(l.a)({},t,a))}},{key:"handleToggle",value:function(e){var t,a=e.target.dataset.name,n="password"===this.state["".concat(a,"Type")];return this.setState((t={},Object(l.a)(t,"".concat(a,"Wording"),n?"hide":"show"),Object(l.a)(t,"".concat(a,"Type"),n?"text":"password"),t))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state;if(this.validate())return this.setState({incorrectPw:!1,nonMatch:!1,isError:!1}),e.preventDefault(),this.props.changePassword(a).then(function(e){switch(e){case"not-auth":return t.setState({incorrectPw:!0});case"non-match":return t.setState({nonMatch:!0});case"error":return t.setState({isError:!0});case"success":return t.props.toggleMsg("passwordUpdated"),t.props.history.push("/profile");default:return}}),this.setState({old:"",new:"",confirm:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"change-password-container"},this.error(),r.a.createElement("form",{className:"form-container",ref:this.form},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:this.state.oldType,name:"old",value:this.state.old,className:"nested-input",placeholder:"Old password",onChange:this.handleInputOnChange,required:!0,minLength:"6",maxLength:"30"}),r.a.createElement("span",{className:"pw-toggle","data-name":"old",onClick:this.handleToggle},this.state.oldWording)),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:this.state.newType,name:"new",value:this.state.new,placeholder:"New Password",className:"nested-input",onChange:this.handleInputOnChange,required:!0,minLength:"6",maxLength:"30"}),r.a.createElement("span",{className:"pw-toggle","data-name":"new",onClick:this.handleToggle},this.state.newWording)),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:this.state.confirmType,name:"confirm",value:this.state.confirm,className:"nested-input",placeholder:"Confirm password",onChange:this.handleInputOnChange,required:!0,minLength:"6",maxLength:"30"}),r.a.createElement("span",{className:"pw-toggle","data-name":"confirm",onClick:this.handleToggle},this.state.confirmWording)),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Change Password"))))}}]),t}(n.Component)),ne=ae=Object(v.b)(null,function(e){return{changePassword:function(t){return e((a=t,function(){return a.new!==a.confirm?Promise.resolve("non-match"):fetch("/api/profile/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return 401===e.status?"not-auth":200!==e.status?"error":"success"}).catch(function(e){return"error"})}));var a}}})(ae),re=(a(61),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.category;this.props.loadTop(e)}},{key:"render",value:function(){var e=[],t=this.props.category;return this.props.topTen[t]&&this.props.topTen[t].forEach(function(t){e.push(r.a.createElement(J,{key:t.id,item:t}))}),r.a.createElement("div",{className:"item-container"},e)}}]),t}(n.Component)),se=re=Object(v.b)(function(e){return{topTen:e.topTen}},function(e){return{loadTop:function(t){e(function(e){return function(t){return fetch("/api/items/category/".concat(e,"/top")).then(function(e){return e.json()}).then(function(a){return t({type:"LOAD_TOP",payload:{category:e,items:a}})})}}(t))}}})(re),ie=(a(62),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",{className:"home-header"},"Featured Items"),r.a.createElement("div",{className:"categories"},r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Apparel")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"apparel"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Appliances")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"appliances"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Automotive")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"automotive"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Electronics")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"electronics"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Furniture")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"furniture"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Jewelry")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"jewelry"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Musical Intruments")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"musical_instruments"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Sporting Goods")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"sporting_goods"}))),r.a.createElement("div",{className:"top-category"},r.a.createElement("div",{className:"category-name"},r.a.createElement("h2",null,"Wanted")),r.a.createElement("div",{className:"top-ten"},r.a.createElement(se,{category:"wanted"})))))}}]),t}(n.Component)),ce=ie=Object(v.b)(function(e){return{}},function(e){return{}})(ie),le=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isMessage:{addItem:!1,editItem:!1,editItemStatus:!1,editProfile:!1,registered:!1,passwordUpdated:!1}},a.toggleMsg=a.toggleMsg.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggleMsg",value:function(e){this.setState({isMessage:Object(o.a)({},this.state.isMessage,Object(l.a)({},e,!this.state.isMessage[e]))})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,null,r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"sidebar-app-container"},r.a.createElement(O,{currentUser:this.props.currentUser}),r.a.createElement("div",{className:"app-body"},r.a.createElement(T,null),r.a.createElement(f.a,{path:"/login",render:function(t){return r.a.createElement(P,Object.assign({},t,{toggleMsg:e.toggleMsg,isRegisteredMsg:e.state.isMessage.registered}))}}),r.a.createElement(f.a,{path:"/logout",component:y}),r.a.createElement(f.a,{path:"/register",render:function(t){return r.a.createElement(F,Object.assign({},t,{toggleMsg:e.toggleMsg}))}}),"/>",r.a.createElement(f.a,{path:"/create-posting",render:function(t){return r.a.createElement(G,Object.assign({},t,{toggleMsg:e.toggleMsg}))}}),r.a.createElement(f.a,{exact:!0,path:"/items/category/:category",component:z}),r.a.createElement(f.a,{exact:!0,path:"/items/:id",render:function(t){return r.a.createElement(H,Object.assign({},t,{toggleMsg:e.toggleMsg,isMessages:e.state.isMessage}))}}),r.a.createElement(f.a,{exact:!0,path:"/items/:id/edit",render:function(t){return r.a.createElement(L,Object.assign({},t,{toggleMsg:e.toggleMsg}))}}),r.a.createElement(f.a,{exact:!0,path:"/search/:term",component:K}),r.a.createElement(f.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(Q,Object.assign({},t,{toggleMsg:e.toggleMsg,isMessages:e.state.isMessage}))}}),r.a.createElement(f.a,{path:"/profile/edit",render:function(t){return r.a.createElement(te,Object.assign({},t,{toggleMsg:e.toggleMsg}))}}),r.a.createElement(f.a,{path:"/password",render:function(t){return r.a.createElement(ne,Object.assign({},t,{toggleMsg:e.toggleMsg}))}}),r.a.createElement(f.a,{exact:!0,path:"/",component:ce}))),r.a.createElement(N,null)))}}]),t}(n.Component),oe=le=Object(v.b)(function(e){return{currentUser:e.currentUser}},null)(le),me=a(16),ue={items:[],item:{},currentUser:localStorage.getItem("user"),topTen:{},profile:{}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return localStorage.setItem("user",t.payload),Object.assign({},e,{currentUser:t.payload});case"LOGOUT":return localStorage.removeItem("user"),Object.assign({},e,{currentUser:"",profile:{}});case"FETCH_ITEMS":case"FETCHED_SEARCH":return Object.assign({},e,{items:t.payload});case"LOAD_SINGLE_ITEM":return Object.assign({},e,{item:t.payload});case"LOAD_TOP":var a=t.payload.category;return Object.assign({},e,{topTen:Object.assign({},e.topTen,Object(l.a)({},a,t.payload.items))});case"FETCHED_PROFILE":return Object.assign({},e,{profile:t.payload});case"FETCHED_USERS_ITEMS":return Object.assign({},e,{items:t.payload});case"EDIT_PROFILE":if(t.payload===e.currentUser)return;return localStorage.setItem("user",t.payload),Object.assign({},e,{currentUser:t.payload});default:return e}},de=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):me.c)(Object(me.a)(c.a)),pe=Object(me.d)(he,de);i.a.render(r.a.createElement(v.a,{store:pe},r.a.createElement(oe,null)),document.getElementById("root"))}]),[[29,1,2]]]);
//# sourceMappingURL=main.5c7cbc03.chunk.js.map